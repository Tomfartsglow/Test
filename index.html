<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biological Psychology Study Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Welcome Screen Styles */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .welcome-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 50px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 500px;
            width: 90%;
            backdrop-filter: blur(10px);
            animation: welcomeSlideIn 0.8s ease-out;
        }

        @keyframes welcomeSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .welcome-card h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .welcome-card .subtitle {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 30px;
        }

        .name-input-container {
            margin: 30px 0;
        }

        .name-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #667eea;
            border-radius: 15px;
            font-size: 18px;
            outline: none;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
        }

        .name-input:focus {
            border-color: #764ba2;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.3);
            background: white;
        }

        .enter-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .enter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .enter-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .brain-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        /* Main App Styles */
        .main-app {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .personal-greeting {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: rgba(255, 255, 255, 0.9);
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 25px;
            padding: 5px;
            backdrop-filter: blur(10px);
        }

        .tab {
            padding: 15px 30px;
            margin: 0 5px;
            background: transparent;
            border: none;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: rgba(255,255,255,0.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .tab:hover {
            background: rgba(255,255,255,0.15);
        }

        .content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 600px;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .test-card:hover {
            transform: translateY(-5px);
        }

        .test-card h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .test-card p {
            color: #666;
            font-size: 14px;
        }

        .final-test {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border: 3px solid #ff6b6b;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option {
            padding: 15px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: #e9ecef;
            border-color: #667eea;
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .test-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .score {
            font-size: 18px;
            font-weight: 600;
            color: #667eea;
        }

        .flashcard-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .flashcard {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
            min-height: 200px;
            perspective: 1000px;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            padding: 20px;
        }

        .flashcard-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .memory-tip {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-style: italic;
            color: #856404;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .video-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .video-card:hover {
            transform: translateY(-5px);
        }

        .video-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .video-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .video-thumbnail {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .notes-container {
            display: grid;
            gap: 20px;
        }

        .note-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .note-content {
            margin-top: 15px;
        }

        .note-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .note-content li {
            margin: 5px 0;
        }

        .diagram-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .diagram-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .diagram-legend {
            margin-top: 15px;
            text-align: left;
            font-size: 14px;
        }

        .diagram-legend p {
            margin: 5px 0;
        }

        .techniques-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .technique-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-top: 4px solid #667eea;
        }

        .technique-content {
            margin-top: 15px;
        }

        .technique-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .technique-content li {
            margin: 8px 0;
        }

        .hidden {
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .category-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn.active {
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-card">
            <div class="brain-icon">üß†</div>
            <h1>Welcome!</h1>
            <p class="subtitle">Biological Psychology Study Platform</p>
            <p>Master the biological bases of behavior, cognition, consciousness, and motivation</p>
            
            <div class="name-input-container">
                <input type="text" 
                       id="student-name" 
                       class="name-input" 
                       placeholder="Enter your name to begin studying..."
                       maxlength="50">
            </div>
            
            <button id="enter-btn" class="enter-btn" onclick="enterPlatform()" disabled>
                üöÄ Start Learning
            </button>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="main-app">
        <div class="container">
            <div class="header">
                <h1>üß† Biological Psychology Study Platform</h1>
                <div id="personal-greeting" class="personal-greeting"></div>
                <p>Master the biological bases of behavior, cognition, consciousness, and motivation</p>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showTab('tests')">Tests</button>
                <button class="tab" onclick="showTab('study')">Study Resources</button>
                <button class="tab" onclick="showTab('admin')" id="admin-tab" style="display: none;">üìä Results</button>
            </div>

            <div class="content">
                <!-- Tests Tab -->
                <div id="tests-content">
                    <div id="test-menu">
                        <h2>Choose Your Test</h2>
                        <div class="test-grid">
                            <div class="test-card" onclick="startTest('brain-parts')">
                                <h3>üß† Brain Parts & Structures</h3>
                                <p>Test your knowledge of brain anatomy including cerebral cortex, limbic system, and subcortical structures.</p>
                            </div>
                            <div class="test-card" onclick="startTest('brain-functions')">
                                <h3>‚ö° Brain Functions</h3>
                                <p>Understand what each brain region does and how they contribute to behavior and cognition.</p>
                            </div>
                            <div class="test-card" onclick="startTest('neurotransmitters')">
                                <h3>üî¨ Neurotransmitters & Chemicals</h3>
                                <p>Learn about dopamine, serotonin, norepinephrine and their roles in behavior and mood.</p>
                            </div>
                            <div class="test-card" onclick="startTest('consciousness')">
                                <h3>üí≠ States of Consciousness</h3>
                                <p>Explore sleep, dreaming, altered states, and levels of awareness.</p>
                            </div>
                            <div class="test-card" onclick="startTest('motivation')">
                                <h3>üéØ Motivation & Drives</h3>
                                <p>Understand biological and psychological factors that drive behavior and goal pursuit.</p>
                            </div>
                            <div class="test-card" onclick="startTest('cognition')">
                                <h3>ü§î Cognition & Mental Processes</h3>
                                <p>Test your understanding of thinking, memory, attention, and information processing.</p>
                            </div>
                            <div class="test-card final-test" onclick="startTest('comprehensive')">
                                <h3>üèÜ COMPREHENSIVE FINAL EXAM</h3>
                                <p>The ultimate test covering all topics - brain structures, functions, neurotransmitters, consciousness, motivation, and cognition.</p>
                            </div>
                        </div>
                    </div>

                    <div id="test-interface" class="hidden">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress"></div>
                        </div>
                        <div id="question-area"></div>
                        <div class="test-controls">
                            <button class="btn btn-secondary" onclick="backToMenu()">Back to Menu</button>
                            <div class="score" id="score-display">Score: 0/0</div>
                            <button class="btn btn-primary" onclick="nextQuestion()" id="next-btn">Next Question</button>
                        </div>
                    </div>
                </div>

                <!-- Study Resources Tab -->
                <div id="study-content" class="hidden">
                    <h2>Study Resources</h2>
                    
                    <div class="category-selector">
                        <button class="category-btn active" onclick="showStudyCategory('flashcards')">Flashcards</button>
                        <button class="category-btn" onclick="showStudyCategory('videos')">Video Tutorials</button>
                        <button class="category-btn" onclick="showStudyCategory('notes')">Study Notes</button>
                        <button class="category-btn" onclick="showStudyCategory('diagrams')">Brain Diagrams</button>
                        <button class="category-btn" onclick="showStudyCategory('mnemonics')">Memory Techniques</button>
                    </div>

                    <!-- Flashcards Section -->
                    <div id="flashcards-section">
                        <h3>Interactive Flashcards</h3>
                        <p>Click any card to flip it and see the answer. Memory tips included!</p>
                        <div class="flashcard-container" id="flashcard-container">
                            <!-- Flashcards will be generated here -->
                        </div>
                    </div>

                    <!-- Videos Section -->
                    <div id="videos-section" class="hidden">
                        <h3>Educational Video Tutorials</h3>
                        <p>Click the links below to watch helpful psychology videos on YouTube (5-10 minutes each)</p>
                        <div class="video-grid">
                            <div class="video-card">
                                <div class="video-thumbnail">üß†</div>
                                <h4>Meet Your Master - Getting to Know Your Brain</h4>
                                <p>Crash Course Psychology overview of brain anatomy and basic functions.</p>
                                <a href="https://www.youtube.com/watch?v=vo4pMVb0R6M" target="_blank" class="video-link">
                                    ‚ñ∂Ô∏è Watch on YouTube
                                </a>
                            </div>
                            <div class="video-card">
                                <div class="video-thumbnail">‚öóÔ∏è</div>
                                <h4>The Chemical Mind: Crash Course Psychology</h4>
                                <p>Understanding neurotransmitters and how brain chemistry affects behavior.</p>
                                <a href="https://youtu.be/W4N-7AlzK7s?si=dAu2NKHpI2ToBnWo" target="_blank" class="video-link">
                                    ‚ñ∂Ô∏è Watch on YouTube
                                </a>
                            </div>
                            <div class="video-card">
                                <div class="video-thumbnail">üí≠</div>
                                <h4>Consciousness: Crash Course Psychology</h4>
                                <p>Exploring different states of consciousness and awareness.</p>
                                <a href="https://www.youtube.com/watch?v=WuyPuH9ojCE" target="_blank" class="video-link">
                                    ‚ñ∂Ô∏è Watch on YouTube
                                </a>
                            </div>
                            <div class="video-card">
                                <div class="video-thumbnail">üò¥</div>
                                <h4>To Sleep, Perchance to Dream</h4>
                                <p>The neuroscience of sleep cycles, REM sleep, and dreaming.</p>
                                <a href="https://www.youtube.com/watch?v=qIJIdj7VgWs" target="_blank" class="video-link">
                                    ‚ñ∂Ô∏è Watch on YouTube
                                </a>
                            </div>
                            <div class="video-card">
                                <div class="video-thumbnail">üß©</div>
                                <h4>How We Make Memories</h4>
                                <p>The biological basis of memory formation and storage in the brain.</p>
                                <a href="https://youtu.be/bSycdIx-C48?si=bSazxAmc53eWL4SI" target="_blank" class="video-link">
                                    ‚ñ∂Ô∏è Watch on YouTube
                                </a>
                            </div>
                            <div class="video-card">
                                <div class="video-thumbnail">üéØ</div>
                                <h4>The Power of Motivation</h4>
                                <p>Biological and psychological factors that drive human motivation and behavior.</p>
                                <a href="https://www.youtube.com/watch?v=loCBvaj4eSg" target="_blank" class="video-link">
                                    ‚ñ∂Ô∏è Watch on YouTube
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Study Notes Section -->
                    <div id="notes-section" class="hidden">
                        <h3>Comprehensive Study Notes</h3>
                        <div class="notes-container">
                            <div class="note-section">
                                <h4>üß† Brain Structure Overview</h4>
                                <div class="note-content">
                                    <p><strong>Cerebral Cortex:</strong> The outer layer of the brain responsible for higher-order thinking. Divided into four lobes:</p>
                                    <ul>
                                        <li><strong>Frontal:</strong> Executive functions, personality, motor control</li>
                                        <li><strong>Parietal:</strong> Sensory processing, spatial awareness</li>
                                        <li><strong>Temporal:</strong> Auditory processing, language, memory</li>
                                        <li><strong>Occipital:</strong> Visual processing</li>
                                    </ul>
                                    <p><strong>Subcortical Structures:</strong> Deep brain structures that regulate basic functions and connect different brain regions.</p>
                                </div>
                            </div>

                            <div class="note-section">
                                <h4>‚ö° Key Neurotransmitters</h4>
                                <div class="note-content">
                                    <table style="width: 100%; border-collapse: collapse;">
                                        <tr style="background: #f8f9fa;">
                                            <th style="padding: 10px; border: 1px solid #ddd;">Neurotransmitter</th>
                                            <th style="padding: 10px; border: 1px solid #ddd;">Primary Function</th>
                                            <th style="padding: 10px; border: 1px solid #ddd;">Associated Disorders</th>
                                        </tr>
                                        <tr>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Dopamine</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Reward, motivation, movement</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Parkinson's, addiction</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Serotonin</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Mood, sleep, appetite</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Depression, anxiety</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Norepinephrine</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Alertness, arousal</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Depression, ADHD</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 10px; border: 1px solid #ddd;">GABA</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Inhibition, calming</td>
                                            <td style="padding: 10px; border: 1px solid #ddd;">Anxiety, epilepsy</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>

                            <div class="note-section">
                                <h4>üí≠ States of Consciousness</h4>
                                <div class="note-content">
                                    <p><strong>Sleep Stages:</strong></p>
                                    <ul>
                                        <li><strong>Stage 1-2:</strong> Light sleep, easy to wake</li>
                                        <li><strong>Stage 3-4:</strong> Deep sleep, physical restoration</li>
                                        <li><strong>REM Sleep:</strong> Dreams, memory consolidation, brain development</li>
                                    </ul>
                                    <p><strong>Altered States:</strong> Meditation, hypnosis, and psychoactive substances can alter normal consciousness patterns, affecting perception, attention, and awareness.</p>
                                </div>
                            </div>

                            <div class="note-section">
                                <h4>üéØ Motivation & Cognition</h4>
                                <div class="note-content">
                                    <p><strong>Biological Drives:</strong> Hypothalamus regulates hunger, thirst, temperature, and sexual behavior.</p>
                                    <p><strong>Cognitive Motivation:</strong> Goals, expectations, and beliefs influence behavior.</p>
                                    <p><strong>Memory Systems:</strong></p>
                                    <ul>
                                        <li><strong>Working Memory:</strong> Temporary, limited capacity (frontal lobes)</li>
                                        <li><strong>Long-term Memory:</strong> Permanent storage (hippocampus for formation)</li>
                                        <li><strong>Implicit Memory:</strong> Unconscious memory (habits, skills)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Brain Diagrams Section -->
                    <div id="diagrams-section" class="hidden">
                        <h3>Interactive Brain Diagrams</h3>
                        <div class="diagram-container">
                            <div class="diagram-card">
                                <h4>Brain Lobes and Functions</h4>
                                <svg viewBox="0 0 400 300" style="width: 100%; height: 250px; background: #f8f9fa; border-radius: 10px;">
                                    <!-- Brain outline -->
                                    <ellipse cx="200" cy="150" rx="180" ry="120" fill="#e9ecef" stroke="#6c757d" stroke-width="2"/>
                                    
                                    <!-- Frontal lobe -->
                                    <path d="M50 100 Q80 80 120 90 Q140 95 160 110 Q170 130 160 150 Q140 160 120 155 Q90 150 70 140 Q50 125 50 100" fill="#ff6b6b" opacity="0.7"/>
                                    <text x="100" y="125" font-size="12" text-anchor="middle" fill="#333">Frontal</text>
                                    
                                    <!-- Parietal lobe -->
                                    <path d="M160 110 Q200 85 250 95 Q280 105 300 125 Q310 140 300 155 Q280 165 250 160 Q200 155 170 150 Q160 130 160 110" fill="#4ecdc4" opacity="0.7"/>
                                    <text x="230" y="130" font-size="12" text-anchor="middle" fill="#333">Parietal</text>
                                    
                                    <!-- Temporal lobe -->
                                    <path d="M70 140 Q90 150 120 155 Q140 160 160 150 Q170 170 160 190 Q140 200 120 195 Q90 190 70 180 Q60 160 70 140" fill="#ffe66d" opacity="0.7"/>
                                    <text x="115" y="175" font-size="12" text-anchor="middle" fill="#333">Temporal</text>
                                    
                                    <!-- Occipital lobe -->
                                    <path d="M300 125 Q330 120 350 140 Q360 160 350 180 Q330 190 310 185 Q300 165 300 155 Q300 140 300 125" fill="#a8e6cf" opacity="0.7"/>
                                    <text x="325" y="155" font-size="12" text-anchor="middle" fill="#333">Occipital</text>
                                    
                                    <!-- Labels -->
                                    <text x="200" y="20" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Brain Lobes</text>
                                </svg>
                                <div class="diagram-legend">
                                    <p><span style="color: #ff6b6b;">‚ñ†</span> Frontal: Executive functions, motor control</p>
                                    <p><span style="color: #4ecdc4;">‚ñ†</span> Parietal: Sensory processing, spatial awareness</p>
                                    <p><span style="color: #ffe66d;">‚ñ†</span> Temporal: Auditory, language, memory</p>
                                    <p><span style="color: #a8e6cf;">‚ñ†</span> Occipital: Visual processing</p>
                                </div>
                            </div>

                            <div class="diagram-card">
                                <h4>Limbic System</h4>
                                <svg viewBox="0 0 400 300" style="width: 100%; height: 250px; background: #f8f9fa; border-radius: 10px;">
                                    <!-- Brain outline -->
                                    <ellipse cx="200" cy="150" rx="180" ry="120" fill="none" stroke="#6c757d" stroke-width="2"/>
                                    
                                    <!-- Hippocampus -->
                                    <ellipse cx="160" cy="180" rx="25" ry="15" fill="#ff9999" opacity="0.8"/>
                                    <text x="160" y="185" font-size="10" text-anchor="middle" fill="#333">Hippocampus</text>
                                    
                                    <!-- Amygdala -->
                                    <ellipse cx="140" cy="160" rx="15" ry="12" fill="#ffcc99" opacity="0.8"/>
                                    <text x="140" y="145" font-size="10" text-anchor="middle" fill="#333">Amygdala</text>
                                    
                                    <!-- Thalamus -->
                                    <ellipse cx="200" cy="130" rx="20" ry="15" fill="#99ccff" opacity="0.8"/>
                                    <text x="200" y="135" font-size="10" text-anchor="middle" fill="#333">Thalamus</text>
                                    
                                    <!-- Hypothalamus -->
                                    <ellipse cx="190" cy="155" rx="18" ry="12" fill="#99ff99" opacity="0.8"/>
                                    <text x="190" y="160" font-size="10" text-anchor="middle" fill="#333">Hypothalamus</text>
                                    
                                    <text x="200" y="20" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Limbic System</text>
                                </svg>
                                <div class="diagram-legend">
                                    <p><span style="color: #ff9999;">‚ñ†</span> Hippocampus: Memory formation</p>
                                    <p><span style="color: #ffcc99;">‚ñ†</span> Amygdala: Emotional processing</p>
                                    <p><span style="color: #99ccff;">‚ñ†</span> Thalamus: Sensory relay</p>
                                    <p><span style="color: #99ff99;">‚ñ†</span> Hypothalamus: Basic drives</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Memory Techniques Section -->
                    <div id="mnemonics-section" class="hidden">
                        <h3>Memory Techniques & Study Strategies</h3>
                        <div class="techniques-container">
                            <div class="technique-card">
                                <h4>üî§ Acronyms</h4>
                                <div class="technique-content">
                                    <p><strong>Brain Lobes (FTPO):</strong></p>
                                    <ul>
                                        <li><strong>F</strong>rontal - Functions and personality</li>
                                        <li><strong>T</strong>emporal - Time and memory</li>
                                        <li><strong>P</strong>arietal - Physical sensations</li>
                                        <li><strong>O</strong>ccipital - Optical (vision)</li>
                                    </ul>
                                    <p><strong>Neurotransmitters (DANG):</strong></p>
                                    <ul>
                                        <li><strong>D</strong>opamine - Drive and reward</li>
                                        <li><strong>A</strong>cetylcholine - Action and memory</li>
                                        <li><strong>N</strong>orepinephrine - Noticeable alertness</li>
                                        <li><strong>G</strong>ABA - Generally calming</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="technique-card">
                                <h4>üè† Method of Loci (Memory Palace)</h4>
                                <div class="technique-content">
                                    <p><strong>How to use:</strong> Associate brain structures with locations in your house</p>
                                    <ul>
                                        <li><strong>Front door</strong> ‚Üí Frontal lobe (executive decisions)</li>
                                        <li><strong>Kitchen</strong> ‚Üí Hypothalamus (hunger/thirst)</li>
                                        <li><strong>Bedroom</strong> ‚Üí Hippocampus (memory storage)</li>
                                        <li><strong>Alarm system</strong> ‚Üí Amygdala (fear/emotion)</li>
                                        <li><strong>Living room</strong> ‚Üí Thalamus (central relay)</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="technique-card">
                                <h4>üîó Association Chains</h4>
                                <div class="technique-content">
                                    <p><strong>Sleep Stages (1-2-3-4-REM):</strong></p>
                                    <p>"<em>One Light sleeper, Two Deeper, Three-Four Deep restoration, REM Rapid dreams</em>"</p>
                                    
                                    <p><strong>Memory Types:</strong></p>
                                    <p>"<em>Working memory Works temporarily, Long-term Lasts permanently, Implicit happens Invisibly</em>"</p>
                                </div>
                            </div>

                            <div class="technique-card">
                                <h4>üìä Study Strategies</h4>
                                <div class="technique-content">
                                    <p><strong>Spaced Repetition:</strong> Review material at increasing intervals (1 day, 3 days, 1 week, 2 weeks)</p>
                                    <p><strong>Active Recall:</strong> Test yourself without looking at notes</p>
                                    <p><strong>Elaborative Interrogation:</strong> Ask "why" and "how" questions</p>
                                    <p><strong>Dual Coding:</strong> Combine verbal and visual information</p>
                                    <p><strong>Interleaving:</strong> Mix different topics in study sessions</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Panel Tab -->
                <div id="admin-content" class="hidden">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2>üìä Test Results Dashboard</h2>
                        <div>
                            <button class="btn btn-secondary" onclick="exportToCSV()" style="margin-right: 10px;">
                                üì• Export CSV
                            </button>
                            <button class="btn btn-primary" onclick="refreshResults()">
                                üîÑ Refresh
                            </button>
                        </div>
                    </div>
                    
                    <div id="results-summary" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                        <!-- Summary cards will be generated here -->
                    </div>
                    
                    <div style="background: white; border-radius: 15px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <h3>All Test Results</h3>
                        <div id="results-table" style="overflow-x: auto; margin-top: 15px;">
                            <!-- Results table will be generated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let studentName = '';
        let testStartTime = null;

        // Google Sheets configuration
        const GOOGLE_APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbypGDQiLxCEuYOloi5-eO5dLGoOXpQLxpVuLLEWxkJOk1B9v0jDoXIo3kppr0AFfwS4QA/exec';
        
        // Function to log data to Google Sheets
        async function logToGoogleSheets(data) {
            try {
                const logEntry = {
                    ...data,
                    timestamp: new Date().toISOString()
                };
                
                // Store locally as backup
                const existingLogs = JSON.parse(localStorage.getItem('testLogs') || '[]');
                existingLogs.push(logEntry);
                localStorage.setItem('testLogs', JSON.stringify(existingLogs));
                
                // Send to Google Sheets via Apps Script
                const response = await fetch(GOOGLE_APPS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                console.log('‚úÖ Test result sent to Google Sheets:', logEntry);
                
                // Show success message to user
                showNotification('üìä Results saved to Google Sheets!', 'success');
                
            } catch (error) {
                console.error('‚ùå Error sending to Google Sheets:', error);
                console.log('üíæ Data saved locally as backup');
                
                // Show backup message to user
                showNotification('üíæ Results saved locally (Google Sheets connection issue)', 'warning');
            }
        }
        
        // Function to show notifications
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 1000;
                animation: slideIn 0.3s ease-out;
                max-width: 300px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                ${type === 'success' ? 'background: linear-gradient(135deg, #28a745, #20c997);' : 
                  type === 'warning' ? 'background: linear-gradient(135deg, #ffc107, #fd7e14);' : 
                  'background: linear-gradient(135deg, #17a2b8, #6f42c1);'}
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove notification after 4 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }
        
        // Add CSS for notification animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Welcome screen functionality
        document.addEventListener('DOMContentLoaded', function() {
            const nameInput = document.getElementById('student-name');
            const enterBtn = document.getElementById('enter-btn');
            
            // Enable/disable button based on input
            nameInput.addEventListener('input', function() {
                const name = this.value.trim();
                if (name.length >= 2) {
                    enterBtn.disabled = false;
                    enterBtn.style.opacity = '1';
                } else {
                    enterBtn.disabled = true;
                    enterBtn.style.opacity = '0.6';
                }
            });
            
            // Allow Enter key to submit
            nameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !enterBtn.disabled) {
                    enterPlatform();
                }
            });
            
            // Focus on name input
            nameInput.focus();
        });

        function enterPlatform() {
            const nameInput = document.getElementById('student-name');
            studentName = nameInput.value.trim();
            
            if (studentName.length >= 2) {
                // Hide welcome screen with animation
                const welcomeScreen = document.getElementById('welcome-screen');
                welcomeScreen.style.opacity = '0';
                welcomeScreen.style.transform = 'translateY(-50px)';
                
                setTimeout(() => {
                    welcomeScreen.style.display = 'none';
                    document.getElementById('main-app').style.display = 'block';
                    
                    // Set personal greeting
                    document.getElementById('personal-greeting').textContent = 
                        `Welcome back, ${studentName}! Ready to master biological psychology?`;
                    
                    // Check if admin access should be enabled
                    showAdminPanel();
                    
                    // Initialize the app
                    generateFlashcards();
                }, 500);
            }
        }

        // Test Data
        const testData = {
            'brain-parts': [
                {
                    question: "Which part of the brain is primarily responsible for visual processing?",
                    options: ["Frontal lobe", "Occipital lobe", "Temporal lobe", "Parietal lobe"],
                    correct: 1,
                    explanation: "The occipital lobe contains the primary visual cortex and processes visual information."
                },
                {
                    question: "What structure is often called the brain's 'relay station' for sensory information?",
                    options: ["Hippocampus", "Amygdala", "Thalamus", "Hypothalamus"],
                    correct: 2,
                    explanation: "The thalamus relays sensory information to the cerebral cortex."
                },
                {
                    question: "Which brain structure is most associated with memory consolidation?",
                    options: ["Cerebellum", "Hippocampus", "Medulla", "Pons"],
                    correct: 1,
                    explanation: "The hippocampus is crucial for forming new memories and spatial learning."
                },
                {
                    question: "The limbic system is primarily involved in:",
                    options: ["Motor control", "Balance", "Emotion and memory", "Language"],
                    correct: 2,
                    explanation: "The limbic system includes structures involved in emotion, memory, and motivation."
                },
                {
                    question: "Which area of the brain controls voluntary muscle movement?",
                    options: ["Motor cortex", "Sensory cortex", "Visual cortex", "Auditory cortex"],
                    correct: 0,
                    explanation: "The motor cortex in the frontal lobe initiates voluntary movements."
                },
                {
                    question: "Broca's area is located in which lobe and is responsible for:",
                    options: ["Temporal; hearing", "Frontal; speech production", "Parietal; touch", "Occipital; vision"],
                    correct: 1,
                    explanation: "Broca's area in the frontal lobe is crucial for speech production and language formation."
                },
                {
                    question: "The reticular formation is primarily responsible for:",
                    options: ["Memory formation", "Sleep-wake cycles", "Emotional processing", "Visual perception"],
                    correct: 1,
                    explanation: "The reticular formation regulates arousal, sleep, and wakefulness."
                },
                {
                    question: "Which gland produces melatonin?",
                    options: ["Pituitary", "Thyroid", "Pineal", "Adrenal"],
                    correct: 2,
                    explanation: "The pineal gland produces melatonin, which regulates circadian rhythms."
                }
            ],
            'brain-functions': [
                {
                    question: "What is neuroplasticity?",
                    options: ["Brain's ability to change structure", "Production of neurons", "Brain wave patterns", "Memory storage"],
                    correct: 0,
                    explanation: "Neuroplasticity is the brain's ability to reorganize and change structure through experience."
                },
                {
                    question: "Lateralization of brain function means:",
                    options: ["Both hemispheres do the same thing", "Hemispheres specialize in different tasks", "The brain is symmetrical", "Only one hemisphere works"],
                    correct: 1,
                    explanation: "Lateralization means the cerebral hemispheres specialize in different cognitive functions."
                },
                {
                    question: "The left hemisphere is typically dominant for:",
                    options: ["Spatial tasks", "Musical recognition", "Language and verbal processing", "Emotional content"],
                    correct: 2,
                    explanation: "The left hemisphere specializes in language, verbal processing, and analytical thinking."
                },
                {
                    question: "Split-brain studies involve patients who have had:",
                    options: ["Frontal lobotomy", "Corpus callosum severed", "Hippocampus removed", "Temporal lobe damaged"],
                    correct: 1,
                    explanation: "Split-brain patients have had their corpus callosum severed, preventing hemisphere communication."
                },
                {
                    question: "The right hemisphere excels at:",
                    options: ["Reading and writing", "Mathematical calculations", "Pattern recognition and spatial tasks", "Logical reasoning"],
                    correct: 2,
                    explanation: "The right hemisphere specializes in spatial processing, pattern recognition, and holistic thinking."
                },
                {
                    question: "What would likely happen with damage to Wernicke's area?",
                    options: ["Loss of motor control", "Difficulty understanding language", "Visual impairment", "Memory loss"],
                    correct: 1,
                    explanation: "Wernicke's area damage causes difficulty understanding and comprehending language."
                },
                {
                    question: "The somatosensory cortex processes:",
                    options: ["Visual information", "Auditory information", "Touch and bodily sensations", "Smell and taste"],
                    correct: 2,
                    explanation: "The somatosensory cortex in the parietal lobe processes touch and bodily sensations."
                },
                {
                    question: "EEG measures:",
                    options: ["Blood flow", "Brain structure", "Electrical activity", "Chemical composition"],
                    correct: 2,
                    explanation: "EEG (electroencephalogram) records the brain's electrical activity."
                }
            ],
            'neurotransmitters': [
                {
                    question: "Dopamine is primarily associated with:",
                    options: ["Sleep regulation", "Reward and motivation", "Memory formation", "Muscle control"],
                    correct: 1,
                    explanation: "Dopamine is involved in reward, motivation, and the reinforcing effects of various experiences."
                },
                {
                    question: "Norepinephrine (NE) enhances:",
                    options: ["Sleep quality", "Attention and memory for emotional events", "Digestive processes", "Vision"],
                    correct: 1,
                    explanation: "Norepinephrine enhances attention and memory, especially for emotionally charged events."
                },
                {
                    question: "Endorphins are the body's natural:",
                    options: ["Stimulants", "Painkillers", "Sleep aids", "Appetite suppressants"],
                    correct: 1,
                    explanation: "Endorphins are opioid peptides that modulate pain and pleasure, acting as natural painkillers."
                },
                {
                    question: "Which neurotransmitter is most associated with depression when deficient?",
                    options: ["Dopamine", "GABA", "Serotonin", "Acetylcholine"],
                    correct: 2,
                    explanation: "Serotonin deficiency is commonly linked to depression and mood disorders."
                },
                {
                    question: "GABA is the brain's primary:",
                    options: ["Excitatory neurotransmitter", "Inhibitory neurotransmitter", "Memory neurotransmitter", "Motor neurotransmitter"],
                    correct: 1,
                    explanation: "GABA is the brain's main inhibitory neurotransmitter, helping to calm neural activity."
                },
                {
                    question: "Neural transmission is:",
                    options: ["Only electrical", "Only chemical", "Both electrochemical", "Neither electrical nor chemical"],
                    correct: 2,
                    explanation: "Neural transmission involves both electrical signals within neurons and chemical signals between neurons."
                },
                {
                    question: "Which system works with the nervous system to influence motivation through hormones?",
                    options: ["Digestive system", "Respiratory system", "Endocrine system", "Circulatory system"],
                    correct: 2,
                    explanation: "The endocrine system releases hormones that interact with the nervous system to influence behavior and motivation."
                },
                {
                    question: "Acetylcholine is important for:",
                    options: ["Muscle movement and memory", "Sleep and dreams", "Pain perception", "Emotional regulation"],
                    correct: 0,
                    explanation: "Acetylcholine is crucial for muscle movement and plays a role in learning and memory."
                }
            ],
            'consciousness': [
                {
                    question: "Consciousness is defined as:",
                    options: ["Being awake", "Awareness of internal and external stimuli", "Thinking clearly", "Having memories"],
                    correct: 1,
                    explanation: "Consciousness is our awareness of both internal thoughts/feelings and external environment."
                },
                {
                    question: "REM sleep is important for:",
                    options: ["Physical rest", "Brain restructuring and learning", "Temperature regulation", "Hormone production"],
                    correct: 1,
                    explanation: "REM sleep is associated with brain restructuring, memory consolidation, and learning."
                },
                {
                    question: "Implicit cognitive processes operate:",
                    options: ["With full awareness", "Without conscious awareness", "Only during sleep", "Only in children"],
                    correct: 1,
                    explanation: "Implicit processes like priming occur without our conscious awareness but still influence behavior."
                },
                {
                    question: "The 'flow state' is characterized by:",
                    options: ["Extreme relaxation", "Focused attention on goals", "Altered perception of time", "Both B and C"],
                    correct: 3,
                    explanation: "Flow involves focused attention on activities with altered time perception and optimal performance."
                },
                {
                    question: "Circadian rhythms are controlled by:",
                    options: ["Light-dark cycles", "Temperature changes", "Social cues", "All of the above"],
                    correct: 3,
                    explanation: "Circadian rhythms are influenced by light-dark cycles, temperature, and social cues."
                },
                {
                    question: "Priming is an example of:",
                    options: ["Explicit memory", "Implicit influence", "Conscious decision-making", "Sleep learning"],
                    correct: 1,
                    explanation: "Priming shows how exposure to stimuli can unconsciously influence later responses."
                },
                {
                    question: "Altered states of consciousness can be achieved through:",
                    options: ["Meditation", "Hypnosis", "Certain drugs", "All of the above"],
                    correct: 3,
                    explanation: "Various methods including meditation, hypnosis, and substances can alter consciousness."
                },
                {
                    question: "Sleep deprivation primarily affects:",
                    options: ["Physical strength", "Attention and memory", "Digestive processes", "Vision"],
                    correct: 1,
                    explanation: "Sleep deprivation significantly impairs attention, memory, and other cognitive functions."
                }
            ],
            'motivation': [
                {
                    question: "The hypothalamus regulates:",
                    options: ["Memory formation", "Appetitive drives like hunger and thirst", "Language processing", "Visual perception"],
                    correct: 1,
                    explanation: "The hypothalamus controls basic drives including hunger, thirst, and sexual desire."
                },
                {
                    question: "Cognitive dissonance theory suggests people are motivated to:",
                    options: ["Seek new experiences", "Keep thoughts and behaviors consistent", "Avoid all conflicts", "Maximize pleasure"],
                    correct: 1,
                    explanation: "Cognitive dissonance creates tension when beliefs and behaviors conflict, motivating consistency."
                },
                {
                    question: "A growth mindset involves believing that:",
                    options: ["Abilities are fixed", "Intelligence cannot change", "Abilities can be developed", "Effort is pointless"],
                    correct: 2,
                    explanation: "Growth mindset is the belief that abilities and intelligence can be developed through effort."
                },
                {
                    question: "Intrinsic motivation comes from:",
                    options: ["External rewards", "Internal satisfaction", "Social pressure", "Fear of punishment"],
                    correct: 1,
                    explanation: "Intrinsic motivation is driven by internal satisfaction and personal fulfillment."
                },
                {
                    question: "The WOOP strategy involves:",
                    options: ["Wish, Outcome, Obstacle, Plan", "Work, Organize, Optimize, Practice", "Wonder, Observe, Order, Perform", "Wait, Open, Operate, Progress"],
                    correct: 0,
                    explanation: "WOOP stands for Wish, Outcome, Obstacle, Plan - a goal-setting and self-regulation strategy."
                },
                {
                    question: "Habit formation involves strengthening associations between:",
                    options: ["Thoughts and feelings", "Cue, routine, and reward", "Past and future", "Self and others"],
                    correct: 1,
                    explanation: "Habits develop through the cue-routine-reward loop that gets strengthened over time."
                },
                {
                    question: "Achievement motivation focuses on:",
                    options: ["Avoiding failure", "Learning vs. performance goals", "Social approval", "Material rewards"],
                    correct: 1,
                    explanation: "Achievement motivation involves choosing between learning-focused and performance-focused goals."
                },
                {
                    question: "Self-regulation is controlled by the:",
                    options: ["Limbic system", "Cerebellum", "Prefrontal cortex", "Brain stem"],
                    correct: 2,
                    explanation: "The prefrontal cortex enables conscious self-regulation and top-down control of behavior."
                }
            ],
            'cognition': [
                {
                    question: "Cognition includes:",
                    options: ["Only conscious thinking", "Thinking, memory, and communication", "Just problem-solving", "Only language"],
                    correct: 1,
                    explanation: "Cognition encompasses all mental processes including thinking, memory, attention, and communication."
                },
                {
                    question: "Concepts act as:",
                    options: ["Mental files to organize experiences", "Barriers to learning", "Emotional responses", "Physical movements"],
                    correct: 0,
                    explanation: "Concepts serve as mental files that help organize our experiences and filter new information."
                },
                {
                    question: "Working memory is primarily associated with the:",
                    options: ["Occipital lobe", "Temporal lobe", "Frontal lobe", "Parietal lobe"],
                    correct: 2,
                    explanation: "Working memory, the ability to hold and manipulate information, is linked to the frontal lobes."
                },
                {
                    question: "The mere exposure effect shows that people prefer:",
                    options: ["Novel stimuli", "Previously exposed stimuli", "Complex stimuli", "Colorful stimuli"],
                    correct: 1,
                    explanation: "Mere exposure effect demonstrates that people tend to prefer things they've been exposed to before."
                },
                {
                    question: "Incentive theory explains how environmental stimuli can control:",
                    options: ["Automatic responses", "Approach behavior ('wanting')", "Sleep patterns", "Memory formation"],
                    correct: 1,
                    explanation: "Incentive theory shows how learned environmental cues can trigger approach behaviors and 'wanting'."
                },
                {
                    question: "Behavioral genetics studies:",
                    options: ["Animal behavior only", "The role of heredity in mental ability", "Learning in children", "Social influences"],
                    correct: 1,
                    explanation: "Behavioral genetics examines how heredity influences intelligence and mental abilities."
                },
                {
                    question: "Information processing in cognition involves:",
                    options: ["Only input", "Only output", "Input, processing, and output", "Random neural firing"],
                    correct: 2,
                    explanation: "Cognitive information processing involves receiving input, processing it, and producing output."
                },
                {
                    question: "Attention can be:",
                    options: ["Only focused", "Only divided", "Both focused and divided", "Neither focused nor divided"],
                    correct: 2,
                    explanation: "Attention can be both focused (selective attention) and divided (multitasking), though with limitations."
                }
            ],
            'comprehensive': [
                // Brain Parts & Structures
                {
                    question: "The hippocampus is primarily involved in:",
                    options: ["Motor control", "Memory consolidation and spatial learning", "Visual processing", "Language production"],
                    correct: 1,
                    explanation: "The hippocampus is crucial for forming new memories and spatial navigation."
                },
                {
                    question: "Which brain structure regulates sleep-wake cycles?",
                    options: ["Cerebellum", "Reticular formation", "Corpus callosum", "Amygdala"],
                    correct: 1,
                    explanation: "The reticular formation in the brainstem controls arousal and sleep-wake cycles."
                },
                // Brain Functions
                {
                    question: "Neuroplasticity allows the brain to:",
                    options: ["Remain unchanged", "Reorganize and adapt", "Only function in childhood", "Prevent all damage"],
                    correct: 1,
                    explanation: "Neuroplasticity is the brain's ability to reorganize and change throughout life."
                },
                {
                    question: "Damage to Broca's area would most likely result in:",
                    options: ["Memory loss", "Difficulty producing speech", "Visual impairment", "Hearing problems"],
                    correct: 1,
                    explanation: "Broca's area damage causes difficulty in speech production and language formation."
                },
                // Neurotransmitters
                {
                    question: "Dopamine is most associated with:",
                    options: ["Sleep regulation", "Reward and motivation", "Pain relief", "Temperature control"],
                    correct: 1,
                    explanation: "Dopamine is the key neurotransmitter in reward, motivation, and pleasure systems."
                },
                {
                    question: "Endorphins function as the body's natural:",
                    options: ["Stimulants", "Painkillers", "Sedatives", "Appetite suppressants"],
                    correct: 1,
                    explanation: "Endorphins are natural opioids that reduce pain and can create feelings of pleasure."
                },
                // Consciousness
                {
                    question: "REM sleep is particularly important for:",
                    options: ["Physical recovery", "Memory consolidation and learning", "Temperature regulation", "Immune function"],
                    correct: 1,
                    explanation: "REM sleep is crucial for memory consolidation, learning, and brain development."
                },
                {
                    question: "Implicit cognitive processes:",
                    options: ["Require conscious awareness", "Operate without awareness", "Only occur during sleep", "Are always accurate"],
                    correct: 1,
                    explanation: "Implicit processes like priming occur automatically without conscious awareness."
                },
                // Motivation
                {
                    question: "The hypothalamus primarily controls:",
                    options: ["Language", "Basic drives like hunger and thirst", "Memory formation", "Motor coordination"],
                    correct: 1,
                    explanation: "The hypothalamus regulates fundamental drives including hunger, thirst, and sexual behavior."
                },
                {
                    question: "Cognitive dissonance occurs when:",
                    options: ["We learn something new", "Our beliefs and behaviors conflict", "We feel happy", "We solve problems"],
                    correct: 1,
                    explanation: "Cognitive dissonance is the uncomfortable tension when beliefs and behaviors are inconsistent."
                },
                // Cognition
                {
                    question: "Working memory is primarily associated with the:",
                    options: ["Hippocampus", "Frontal lobes", "Occipital lobe", "Cerebellum"],
                    correct: 1,
                    explanation: "Working memory, which temporarily holds and manipulates information, is linked to the frontal lobes."
                },
                {
                    question: "The left hemisphere typically specializes in:",
                    options: ["Spatial tasks", "Emotional processing", "Language and analytical thinking", "Musical recognition"],
                    correct: 2,
                    explanation: "The left hemisphere is dominant for language, verbal processing, and analytical thinking."
                },
                // Integration Questions
                {
                    question: "How do biological bases, consciousness, and motivation interact?",
                    options: ["They operate independently", "Brain structures influence consciousness and motivation", "Only consciousness affects the others", "They only interact during sleep"],
                    correct: 1,
                    explanation: "Brain structures and neurotransmitters influence both consciousness states and motivational drives."
                },
                {
                    question: "Sleep deprivation primarily affects:",
                    options: ["Only physical health", "Cognitive functions like attention and memory", "Only emotional regulation", "Motor skills exclusively"],
                    correct: 1,
                    explanation: "Sleep deprivation significantly impairs cognitive functions including attention, memory, and decision-making."
                },
                {
                    question: "The limbic system integrates:",
                    options: ["Only memory", "Emotion, memory, and motivation", "Only sensory information", "Only motor control"],
                    correct: 1,
                    explanation: "The limbic system is crucial for integrating emotional, memory, and motivational processes."
                },
                // Advanced Integration
                {
                    question: "Growth mindset and neuroplasticity are connected because:",
                    options: ["They're unrelated concepts", "Both involve the brain's ability to change", "They only apply to children", "They prevent all learning difficulties"],
                    correct: 1,
                    explanation: "Growth mindset relies on understanding that the brain can change and develop through effort (neuroplasticity)."
                },
                {
                    question: "The relationship between neurotransmitters and behavior shows that:",
                    options: ["Chemistry has no effect on behavior", "Brain chemistry significantly influences behavior", "Only genetics matter", "Behavior is purely environmental"],
                    correct: 1,
                    explanation: "Neurotransmitters like dopamine, serotonin, and norepinephrine significantly influence behavior and mental states."
                },
                {
                    question: "Flow state demonstrates the connection between:",
                    options: ["Consciousness and motivation", "Only attention", "Only happiness", "Sleep and dreams"],
                    correct: 0,
                    explanation: "Flow state shows how focused consciousness and intrinsic motivation can create optimal performance."
                },
                {
                    question: "The biopsychological approach suggests that behavior results from:",
                    options: ["Only biological factors", "Only psychological factors", "The interaction of biological and psychological factors", "Random chance"],
                    correct: 2,
                    explanation: "The biopsychological approach emphasizes that behavior emerges from the complex interaction of biological and psychological factors."
                },
                {
                    question: "Habit formation involves both:",
                    options: ["Conscious and unconscious processes", "Only conscious control", "Only automatic responses", "Neither conscious nor unconscious"],
                    correct: 0,
                    explanation: "Habits involve automatic subcortical processes but can be modified through conscious prefrontal cortex regulation."
                }
            ]
        };

        // Flashcard Data
        const flashcardData = [
            {
                front: "Hippocampus",
                back: "Memory consolidation and spatial learning",
                memoryTip: "Hippocampus = campus where memories are stored and organized"
            },
            {
                front: "Amygdala",
                back: "Emotional processing, especially fear",
                memoryTip: "Amygdala sounds like 'alarm' - processes emotional responses"
            },
            {
                front: "Dopamine",
                back: "Reward, motivation, and pleasure neurotransmitter",
                memoryTip: "Dopamine drives motivation - think 'dope' for reward feelings"
            },
            {
                front: "Frontal Lobe",
                back: "Executive functions, planning, personality, motor control",
                memoryTip: "Located at the front - handles executive decision-making"
            },
            {
                front: "Occipital Lobe",
                back: "Visual processing and sight",
                memoryTip: "Occipital = optical processing in the back of the brain"
            },
            {
                front: "Thalamus",
                back: "Sensory relay station",
                memoryTip: "All sensory info passes through the thalamus first"
            },
            {
                front: "Cerebellum",
                back: "Balance, coordination, motor learning",
                memoryTip: "Cerebellum = 'little brain' that fine-tunes movement"
            },
            {
                front: "Hypothalamus",
                back: "Regulates hunger, thirst, temperature, hormones",
                memoryTip: "Hypo = below; controls homeostasis and basic drives"
            },
            {
                front: "Broca's Area",
                back: "Speech production and language formation",
                memoryTip: "Broca = broken speech when damaged (production problems)"
            },
            {
                front: "Wernicke's Area",
                back: "Language comprehension and understanding",
                memoryTip: "Wernicke damage = word salad (comprehension problems)"
            },
            {
                front: "Serotonin",
                back: "Mood regulation, happiness, sleep",
                memoryTip: "Serotonin = serenity and stable mood regulation"
            },
            {
                front: "Norepinephrine",
                back: "Alertness, attention, arousal (fight-or-flight)",
                memoryTip: "Norepinephrine = adrenaline-like, increases alertness"
            },
            {
                front: "GABA",
                back: "Main inhibitory neurotransmitter (calming)",
                memoryTip: "GABA = brain's primary 'off switch' for neural activity"
            },
            {
                front: "Acetylcholine",
                back: "Muscle movement and memory",
                memoryTip: "ACh = action (movement) and attention (memory)"
            },
            {
                front: "REM Sleep",
                back: "Rapid Eye Movement sleep; important for memory consolidation",
                memoryTip: "REM = dreams and memory processing during rapid eye movements"
            },
            {
                front: "Neuroplasticity",
                back: "Brain's ability to change and reorganize",
                memoryTip: "Neural plasticity = brain can be molded throughout life"
            },
            {
                front: "Corpus Callosum",
                back: "Connects left and right brain hemispheres",
                memoryTip: "Corpus = body connecting the two brain halves"
            },
            {
                front: "Limbic System",
                back: "Emotion, memory, and motivation center",
                memoryTip: "Limbic = emotional and memory processing hub"
            },
            {
                front: "Reticular Formation",
                back: "Controls sleep-wake cycles and arousal",
                memoryTip: "Reticular = network controlling consciousness levels"
            },
            {
                front: "Endorphins",
                back: "Natural painkillers and mood elevators",
                memoryTip: "Endorphins = endogenous morphine produced by the body"
            },
            {
                front: "Cognitive Dissonance",
                back: "Tension from conflicting beliefs or behaviors",
                memoryTip: "Mental discomfort when actions don't match beliefs"
            },
            {
                front: "Growth Mindset",
                back: "Belief that abilities can be developed through effort",
                memoryTip: "Growth mindset = believing intelligence can be developed"
            },
            {
                front: "Flow State",
                back: "Optimal performance state with focused attention",
                memoryTip: "Flow = complete absorption in activity with optimal performance"
            },
            {
                front: "Working Memory",
                back: "Temporary storage and manipulation of information",
                memoryTip: "Working memory = mental workspace for active information"
            }
        ];

        // Current test state
        let currentTest = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        let testQuestions = [];

        // Generate flashcards
        function generateFlashcards() {
            const container = document.getElementById('flashcard-container');
            container.innerHTML = '';

            flashcardData.forEach((card, index) => {
                const flashcardDiv = document.createElement('div');
                flashcardDiv.className = 'flashcard';
                flashcardDiv.onclick = () => flipCard(index);
                
                flashcardDiv.innerHTML = `
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <h3>${card.front}</h3>
                            <p>Click to reveal answer</p>
                        </div>
                        <div class="flashcard-back">
                            <h3>${card.back}</h3>
                            <div class="memory-tip">
                                üí° ${card.memoryTip}
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(flashcardDiv);
            });
        }

        // Flip flashcard
        function flipCard(index) {
            const flashcards = document.querySelectorAll('.flashcard');
            flashcards[index].classList.toggle('flipped');
        }

        // Tab switching
        function showTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Update content
            document.querySelectorAll('.content > div').forEach(content => content.classList.add('hidden'));
            document.getElementById(tabName + '-content').classList.remove('hidden');
            
            // Load admin data if admin tab is selected
            if (tabName === 'admin') {
                displayResults();
            }
        }

        // Study category switching
        function showStudyCategory(category) {
            // Update category buttons
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Hide all sections
            document.getElementById('flashcards-section').classList.add('hidden');
            document.getElementById('videos-section').classList.add('hidden');
            document.getElementById('notes-section').classList.add('hidden');
            document.getElementById('diagrams-section').classList.add('hidden');
            document.getElementById('mnemonics-section').classList.add('hidden');

            // Show selected section
            document.getElementById(category + '-section').classList.remove('hidden');
        }

        // Start a test
        function startTest(testType) {
            currentTest = testType;
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            testQuestions = [...testData[testType]];
            testStartTime = new Date(); // Record start time
            
            // Shuffle questions for variety
            testQuestions = testQuestions.sort(() => Math.random() - 0.5);
            
            document.getElementById('test-menu').classList.add('hidden');
            document.getElementById('test-interface').classList.remove('hidden');
            
            showQuestion();
        }

        // Display current question
        function showQuestion() {
            const question = testQuestions[currentQuestionIndex];
            const questionArea = document.getElementById('question-area');
            
            questionArea.innerHTML = `
                <div class="question-container">
                    <div class="question">
                        Question ${currentQuestionIndex + 1} of ${testQuestions.length}
                    </div>
                    <div class="question">
                        ${question.question}
                    </div>
                    <div class="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            updateProgress();
            updateScore();
            
            // Reset next button
            const nextBtn = document.getElementById('next-btn');
            nextBtn.textContent = currentQuestionIndex === testQuestions.length - 1 ? 'Finish Test' : 'Next Question';
            nextBtn.style.display = 'none';
        }

        // Select an option
        function selectOption(optionIndex) {
            const options = document.querySelectorAll('.option');
            const question = testQuestions[currentQuestionIndex];
            
            // Remove previous selections
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark selected option
            options[optionIndex].classList.add('selected');
            
            // Show correct answer
            setTimeout(() => {
                options[question.correct].classList.add('correct');
                if (optionIndex !== question.correct) {
                    options[optionIndex].classList.add('incorrect');
                }
                
                // Show explanation
                const explanation = document.createElement('div');
                explanation.style.marginTop = '20px';
                explanation.style.padding = '15px';
                explanation.style.backgroundColor = '#f8f9fa';
                explanation.style.borderRadius = '10px';
                explanation.innerHTML = `<strong>Explanation:</strong> ${question.explanation}`;
                document.querySelector('.question-container').appendChild(explanation);
                
                // Show next button
                document.getElementById('next-btn').style.display = 'block';
                
                // Update score
                if (optionIndex === question.correct) {
                    score++;
                }
                userAnswers.push(optionIndex);
                updateScore();
            }, 500);
        }

        // Next question
        function nextQuestion() {
            if (currentQuestionIndex < testQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishTest();
            }
        }

        // Finish test
        function finishTest() {
            const percentage = Math.round((score / testQuestions.length) * 100);
            const timeCompleted = new Date();
            const timeSpent = Math.round((timeCompleted - testStartTime) / 1000); // seconds
            
            let grade, message;
            
            if (percentage >= 90) {
                grade = 'A';
                message = `Excellent work, ${studentName}! You have mastered this topic! üéâ`;
            } else if (percentage >= 80) {
                grade = 'B';
                message = `Great job, ${studentName}! You have a solid understanding! üëç`;
            } else if (percentage >= 70) {
                grade = 'C';
                message = `Good work, ${studentName}! Review the study materials to improve. üìö`;
            } else if (percentage >= 60) {
                grade = 'D';
                message = `You're getting there, ${studentName}! More study needed. üí™`;
            } else {
                grade = 'F';
                message = `Keep studying, ${studentName}! Use the flashcards and videos. üìñ`;
            }
            
            // Log test results to Google Sheets
            const testData = {
                studentName: studentName,
                testType: getTestDisplayName(currentTest),
                score: score,
                totalQuestions: testQuestions.length,
                percentage: percentage,
                grade: grade,
                date: timeCompleted.toLocaleDateString(),
                timeStarted: testStartTime.toLocaleTimeString(),
                timeCompleted: timeCompleted.toLocaleTimeString(),
                timeSpentSeconds: timeSpent
            };
            
            logToGoogleSheets(testData);
            
            document.getElementById('question-area').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>Test Complete!</h2>
                    <div style="font-size: 4rem; margin: 20px 0;">${grade}</div>
                    <div style="font-size: 2rem; margin: 20px 0; color: #667eea;">
                        ${score}/${testQuestions.length} (${percentage}%)
                    </div>
                    <p style="font-size: 1.2rem; margin: 20px 0;">${message}</p>
                    <p style="font-size: 1rem; color: #666; margin: 10px 0;">
                        Time spent: ${Math.floor(timeSpent / 60)}m ${timeSpent % 60}s
                    </p>
                    <div style="margin-top: 30px;">
                        <button class="btn btn-primary" onclick="startTest('${currentTest}')" style="margin: 0 10px;">
                            Retake Test
                        </button>
                        <button class="btn btn-secondary" onclick="backToMenu()" style="margin: 0 10px;">
                            Back to Menu
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('next-btn').style.display = 'none';
        }

        // Helper function to get display name for test types
        function getTestDisplayName(testType) {
            const displayNames = {
                'brain-parts': 'Brain Parts & Structures',
                'brain-functions': 'Brain Functions',
                'neurotransmitters': 'Neurotransmitters & Chemicals',
                'consciousness': 'States of Consciousness',
                'motivation': 'Motivation & Drives',
                'cognition': 'Cognition & Mental Processes',
                'comprehensive': 'Comprehensive Final Exam'
            };
            return displayNames[testType] || testType;
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / testQuestions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        // Update score display
        function updateScore() {
            document.getElementById('score-display').textContent = `Score: ${score}/${testQuestions.length}`;
        }

        // Back to test menu
        function backToMenu() {
            document.getElementById('test-menu').classList.remove('hidden');
            document.getElementById('test-interface').classList.add('hidden');
            currentTest = null;
        }

        // Admin panel functions
        function showAdminPanel() {
            // Show admin tab if someone types the secret code
            if (studentName.toLowerCase().includes('admin') || studentName.toLowerCase().includes('teacher')) {
                document.getElementById('admin-tab').style.display = 'block';
            }
        }

        function refreshResults() {
            displayResults();
        }

        function displayResults() {
            const logs = JSON.parse(localStorage.getItem('testLogs') || '[]');
            
            // Generate summary
            const summary = generateSummary(logs);
            document.getElementById('results-summary').innerHTML = summary;
            
            // Generate table
            const table = generateResultsTable(logs);
            document.getElementById('results-table').innerHTML = table;
        }

        function generateSummary(logs) {
            const totalTests = logs.length;
            const uniqueStudents = [...new Set(logs.map(log => log.studentName))].length;
            const averageScore = logs.length > 0 ? 
                Math.round(logs.reduce((sum, log) => sum + log.percentage, 0) / logs.length) : 0;
            const gradeDistribution = logs.reduce((acc, log) => {
                acc[log.grade] = (acc[log.grade] || 0) + 1;
                return acc;
            }, {});

            return `
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                    <h4>Total Tests</h4>
                    <div style="font-size: 2rem; font-weight: bold;">${totalTests}</div>
                </div>
                <div style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                    <h4>Unique Students</h4>
                    <div style="font-size: 2rem; font-weight: bold;">${uniqueStudents}</div>
                </div>
                <div style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: #333; padding: 20px; border-radius: 15px; text-align: center;">
                    <h4>Average Score</h4>
                    <div style="font-size: 2rem; font-weight: bold;">${averageScore}%</div>
                </div>
                <div style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); color: #333; padding: 20px; border-radius: 15px; text-align: center;">
                    <h4>Grade Distribution</h4>
                    <div style="font-size: 0.9rem;">
                        A: ${gradeDistribution.A || 0} | B: ${gradeDistribution.B || 0} | 
                        C: ${gradeDistribution.C || 0} | D: ${gradeDistribution.D || 0} | F: ${gradeDistribution.F || 0}
                    </div>
                </div>
            `;
        }

        function generateResultsTable(logs) {
            if (logs.length === 0) {
                return '<p style="text-align: center; color: #666; padding: 40px;">No test results yet. Students will appear here after taking tests.</p>';
            }

            const sortedLogs = logs.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));

            return `
                <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                    <thead>
                        <tr style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                            <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">Student</th>
                            <th style="padding: 12px; text-align: left; border: 1px solid #dee2e6;">Test</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Score</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Grade</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Date</th>
                            <th style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${sortedLogs.map(log => `
                            <tr style="border-bottom: 1px solid #dee2e6;">
                                <td style="padding: 12px; border: 1px solid #dee2e6; font-weight: 600;">${log.studentName}</td>
                                <td style="padding: 12px; border: 1px solid #dee2e6;">${log.testType}</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">${log.score}/${log.totalQuestions} (${log.percentage}%)</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">
                                    <span style="padding: 4px 8px; border-radius: 12px; font-weight: bold; color: white; background: ${getGradeColor(log.grade)};">${log.grade}</span>
                                </td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">${log.date}</td>
                                <td style="padding: 12px; text-align: center; border: 1px solid #dee2e6;">${log.timeCompleted}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        function getGradeColor(grade) {
            const colors = {
                'A': '#28a745',
                'B': '#17a2b8',
                'C': '#ffc107',
                'D': '#fd7e14',
                'F': '#dc3545'
            };
            return colors[grade] || '#6c757d';
        }

        function exportToCSV() {
            const logs = JSON.parse(localStorage.getItem('testLogs') || '[]');
            if (logs.length === 0) {
                alert('No data to export yet!');
                return;
            }

            const headers = ['Student Name', 'Test Type', 'Score', 'Total Questions', 'Percentage', 'Grade', 'Date', 'Time Started', 'Time Completed'];
            const csvContent = [
                headers.join(','),
                ...logs.map(log => [
                    `"${log.studentName}"`,
                    `"${log.testType}"`,
                    log.score,
                    log.totalQuestions,
                    log.percentage,
                    log.grade,
                    `"${log.date}"`,
                    `"${log.timeStarted}"`,
                    `"${log.timeCompleted}"`
                ].join(','))
            ].join('\n');

            const blob = new Blob([csvContent], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `test-results-${new Date().toISOString().split('T')[0]}.csv`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
