<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biological Psychology Study Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Login Screen Styles */
        .login-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .login-card {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 400px;
            width: 100%;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .login-card h1 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2rem;
        }

        .login-card p {
            color: #666;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }

        .form-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn-login {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .btn-login:hover {
            transform: translateY(-2px);
        }

        .admin-login {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }

        .admin-login a {
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
        }

        .admin-login a:hover {
            text-decoration: underline;
        }

        /* Admin Panel Styles */
        .admin-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 20px;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            color: white;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .users-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .users-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .users-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .users-table tr:hover td {
            background-color: #f8f9fa;
        }

        .user-details {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .test-result {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .test-result h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            font-size: 14px;
        }

        /* User Status Indicator */
        .user-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            color: white;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #28a745;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 25px;
            padding: 5px;
            backdrop-filter: blur(10px);
        }

        .tab {
            padding: 15px 30px;
            margin: 0 5px;
            background: transparent;
            border: none;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: rgba(255,255,255,0.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .tab:hover {
            background: rgba(255,255,255,0.15);
        }

        .content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 600px;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .test-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .test-card:hover {
            transform: translateY(-5px);
        }

        .test-card h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .test-card p {
            color: #666;
            font-size: 14px;
        }

        .final-test {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border: 3px solid #ff6b6b;
        }

        .question-container {
            margin-bottom: 30px;
        }

        .question {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .options {
            display: grid;
            gap: 10px;
        }

        .option {
            padding: 15px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            background: #e9ecef;
            border-color: #667eea;
        }

        .option.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .option.correct {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .option.incorrect {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .test-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .score {
            font-size: 18px;
            font-weight: 600;
            color: #667eea;
        }

        .flashcard-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .flashcard {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.3s ease;
            min-height: 200px;
            perspective: 1000px;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            padding: 20px;
        }

        .flashcard-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .memory-tip {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-style: italic;
            color: #856404;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .video-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .video-card:hover {
            transform: translateY(-5px);
        }

        .video-link {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
            text-decoration: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .video-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .video-thumbnail {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .notes-container {
            display: grid;
            gap: 20px;
        }

        .note-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .note-content {
            margin-top: 15px;
        }

        .note-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .note-content li {
            margin: 5px 0;
        }

        .diagram-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .diagram-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .diagram-legend {
            margin-top: 15px;
            text-align: left;
            font-size: 14px;
        }

        .diagram-legend p {
            margin: 5px 0;
        }

        .techniques-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .technique-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-top: 4px solid #667eea;
        }

        .technique-content {
            margin-top: 15px;
        }

        .technique-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .technique-content li {
            margin: 8px 0;
        }

        .hidden {
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .category-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-btn.active {
            background: #667eea;
            color: white;
        }

        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #c82333;
            transform: translateY(-1px);
        }

        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="login-screen">
        <div class="login-card">
            <h1>🧠 Welcome</h1>
            <p>Enter your name to access the Biological Psychology Study Platform</p>
            <div class="form-group">
                <label for="student-name">Your Name:</label>
                <input type="text" id="student-name" placeholder="Enter your full name" required>
            </div>
            <button class="btn-login" onclick="loginStudent()">Enter Study Platform</button>
            <div id="login-error" class="error-message hidden"></div>
            
            <div class="admin-login">
                <a onclick="showAdminLogin()">Admin Access</a>
            </div>
        </div>
    </div>

    <!-- Admin Login -->
    <div id="admin-login" class="login-screen hidden">
        <div class="login-card">
            <h1>🔐 Admin Access</h1>
            <p>Enter admin credentials to view student results</p>
            <div class="form-group">
                <label for="admin-password">Password:</label>
                <input type="password" id="admin-password" placeholder="Enter admin password">
            </div>
            <button class="btn-login" onclick="loginAdmin()">Access Admin Panel</button>
            <div id="admin-error" class="error-message hidden"></div>
            <div class="admin-login">
                <a onclick="showStudentLogin()">Back to Student Login</a>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="container hidden">
        <!-- User Status -->
        <div class="user-status">
            <div class="status-indicator"></div>
            <span>Logged in as: <strong id="current-user"></strong></span>
            <div style="margin-left: auto;">
                <span id="session-time">Session time: 00:00</span>
                <button class="logout-btn" onclick="logout()" style="margin-left: 15px;">Logout</button>
            </div>
        </div>

        <div class="header">
            <h1>🧠 Biological Psychology Study Platform</h1>
            <p>Master the biological bases of behavior, cognition, consciousness, and motivation</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('tests')">Tests</button>
            <button class="tab" onclick="showTab('study')">Study Resources</button>
        </div>

        <div class="content">
            <!-- Tests Tab -->
            <div id="tests-content">
                <div id="test-menu">
                    <h2>Choose Your Test</h2>
                    <div class="test-grid">
                        <div class="test-card" onclick="startTest('brain-parts')">
                            <h3>🧠 Brain Parts & Structures</h3>
                            <p>Test your knowledge of brain anatomy including cerebral cortex, limbic system, and subcortical structures.</p>
                        </div>
                        <div class="test-card" onclick="startTest('brain-functions')">
                            <h3>⚡ Brain Functions</h3>
                            <p>Understand what each brain region does and how they contribute to behavior and cognition.</p>
                        </div>
                        <div class="test-card" onclick="startTest('neurotransmitters')">
                            <h3>🔬 Neurotransmitters & Chemicals</h3>
                            <p>Learn about dopamine, serotonin, norepinephrine and their roles in behavior and mood.</p>
                        </div>
                        <div class="test-card" onclick="startTest('consciousness')">
                            <h3>💭 States of Consciousness</h3>
                            <p>Explore sleep, dreaming, altered states, and levels of awareness.</p>
                        </div>
                        <div class="test-card" onclick="startTest('motivation')">
                            <h3>🎯 Motivation & Drives</h3>
                            <p>Understand biological and psychological factors that drive behavior and goal pursuit.</p>
                        </div>
                        <div class="test-card" onclick="startTest('cognition')">
                            <h3>🤔 Cognition & Mental Processes</h3>
                            <p>Test your understanding of thinking, memory, attention, and information processing.</p>
                        </div>
                        <div class="test-card final-test" onclick="startTest('comprehensive')">
                            <h3>🏆 COMPREHENSIVE FINAL EXAM</h3>
                            <p>The ultimate test covering all topics - brain structures, functions, neurotransmitters, consciousness, motivation, and cognition.</p>
                        </div>
                    </div>
                </div>

                <div id="test-interface" class="hidden">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress"></div>
                    </div>
                    <div id="question-area"></div>
                    <div class="test-controls">
                        <button class="btn btn-secondary" onclick="backToMenu()">Back to Menu</button>
                        <div class="score" id="score-display">Score: 0/0</div>
                        <button class="btn btn-primary" onclick="nextQuestion()" id="next-btn">Next Question</button>
                    </div>
                </div>
            </div>

            <!-- Study Resources Tab -->
            <div id="study-content" class="hidden">
                <h2>Study Resources</h2>
                
                <div class="category-selector">
                    <button class="category-btn active" onclick="showStudyCategory('flashcards')">Flashcards</button>
                    <button class="category-btn" onclick="showStudyCategory('videos')">Video Tutorials</button>
                    <button class="category-btn" onclick="showStudyCategory('notes')">Study Notes</button>
                    <button class="category-btn" onclick="showStudyCategory('diagrams')">Brain Diagrams</button>
                    <button class="category-btn" onclick="showStudyCategory('mnemonics')">Memory Techniques</button>
                </div>

                <!-- Flashcards Section -->
                <div id="flashcards-section">
                    <h3>Interactive Flashcards</h3>
                    <p>Click any card to flip it and see the answer. Memory tips included!</p>
                    <div class="flashcard-container" id="flashcard-container">
                        <!-- Flashcards will be generated here -->
                    </div>
                </div>

                <!-- Videos Section -->
                <div id="videos-section" class="hidden">
                    <h3>Educational Video Tutorials</h3>
                    <p>Click the links below to watch helpful psychology videos on YouTube (5-10 minutes each)</p>
                    <div class="video-grid">
                        <div class="video-card">
                            <div class="video-thumbnail">🧠</div>
                            <h4>Meet Your Master - Getting to Know Your Brain</h4>
                            <p>Crash Course Psychology overview of brain anatomy and basic functions.</p>
                            <a href="https://www.youtube.com/watch?v=vo4pMVb0R6M" target="_blank" class="video-link">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                        <div class="video-card">
                            <div class="video-thumbnail">⚗️</div>
                            <h4>The Chemical Mind: Crash Course Psychology</h4>
                            <p>Understanding neurotransmitters and how brain chemistry affects behavior.</p>
                            <a href="https://youtu.be/W4N-7AlzK7s?si=dAu2NKHpI2ToBnWo" target="_blank" class="video-link">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                        <div class="video-card">
                            <div class="video-thumbnail">💭</div>
                            <h4>Consciousness: Crash Course Psychology</h4>
                            <p>Exploring different states of consciousness and awareness.</p>
                            <a href="https://www.youtube.com/watch?v=WuyPuH9ojCE" target="_blank" class="video-link">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                        <div class="video-card">
                            <div class="video-thumbnail">😴</div>
                            <h4>To Sleep, Perchance to Dream</h4>
                            <p>The neuroscience of sleep cycles, REM sleep, and dreaming.</p>
                            <a href="https://www.youtube.com/watch?v=qIJIdj7VgWs" target="_blank" class="video-link">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                        <div class="video-card">
                            <div class="video-thumbnail">🧩</div>
                            <h4>How We Make Memories</h4>
                            <p>The biological basis of memory formation and storage in the brain.</p>
                            <a href="https://youtu.be/bSycdIx-C48?si=bSazxAmc53eWL4SI" target="_blank" class="video-link">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                        <div class="video-card">
                            <div class="video-thumbnail">🎯</div>
                            <h4>The Power of Motivation</h4>
                            <p>Biological and psychological factors that drive human motivation and behavior.</p>
                            <a href="https://www.youtube.com/watch?v=loCBvaj4eSg" target="_blank" class="video-link">
                                ▶️ Watch on YouTube
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Study Notes Section -->
                <div id="notes-section" class="hidden">
                    <h3>Comprehensive Study Notes</h3>
                    <div class="notes-container">
                        <div class="note-section">
                            <h4>🧠 Brain Structure Overview</h4>
                            <div class="note-content">
                                <p><strong>Cerebral Cortex:</strong> The outer layer of the brain responsible for higher-order thinking. Divided into four lobes:</p>
                                <ul>
                                    <li><strong>Frontal:</strong> Executive functions, personality, motor control</li>
                                    <li><strong>Parietal:</strong> Sensory processing, spatial awareness</li>
                                    <li><strong>Temporal:</strong> Auditory processing, language, memory</li>
                                    <li><strong>Occipital:</strong> Visual processing</li>
                                </ul>
                                <p><strong>Subcortical Structures:</strong> Deep brain structures that regulate basic functions and connect different brain regions.</p>
                            </div>
                        </div>

                        <div class="note-section">
                            <h4>⚡ Key Neurotransmitters</h4>
                            <div class="note-content">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <tr style="background: #f8f9fa;">
                                        <th style="padding: 10px; border: 1px solid #ddd;">Neurotransmitter</th>
                                        <th style="padding: 10px; border: 1px solid #ddd;">Primary Function</th>
                                        <th style="padding: 10px; border: 1px solid #ddd;">Associated Disorders</th>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Reward, motivation, movement</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Parkinson's, addiction</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Serotonin</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Mood, sleep, appetite</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Depression, anxiety</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Norepinephrine</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Alertness, arousal</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Depression, ADHD</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 10px; border: 1px solid #ddd;">GABA</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Inhibition, calming</td>
                                        <td style="padding: 10px; border: 1px solid #ddd;">Anxiety, epilepsy</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="note-section">
                            <h4>💭 States of Consciousness</h4>
                            <div class="note-content">
                                <p><strong>Sleep Stages:</strong></p>
                                <ul>
                                    <li><strong>Stage 1-2:</strong> Light sleep, easy to wake</li>
                                    <li><strong>Stage 3-4:</strong> Deep sleep, physical restoration</li>
                                    <li><strong>REM Sleep:</strong> Dreams, memory consolidation, brain development</li>
                                </ul>
                                <p><strong>Altered States:</strong> Meditation, hypnosis, and psychoactive substances can alter normal consciousness patterns, affecting perception, attention, and awareness.</p>
                            </div>
                        </div>

                        <div class="note-section">
                            <h4>🎯 Motivation & Cognition</h4>
                            <div class="note-content">
                                <p><strong>Biological Drives:</strong> Hypothalamus regulates hunger, thirst, temperature, and sexual behavior.</p>
                                <p><strong>Cognitive Motivation:</strong> Goals, expectations, and beliefs influence behavior.</p>
                                <p><strong>Memory Systems:</strong></p>
                                <ul>
                                    <li><strong>Working Memory:</strong> Temporary, limited capacity (frontal lobes)</li>
                                    <li><strong>Long-term Memory:</strong> Permanent storage (hippocampus for formation)</li>
                                    <li><strong>Implicit Memory:</strong> Unconscious memory (habits, skills)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Brain Diagrams Section -->
                <div id="diagrams-section" class="hidden">
                    <h3>Interactive Brain Diagrams</h3>
                    <div class="diagram-container">
                        <div class="diagram-card">
                            <h4>Brain Lobes and Functions</h4>
                            <svg viewBox="0 0 400 300" style="width: 100%; height: 250px; background: #f8f9fa; border-radius: 10px;">
                                <!-- Brain outline -->
                                <ellipse cx="200" cy="150" rx="180" ry="120" fill="#e9ecef" stroke="#6c757d" stroke-width="2"/>
                                
                                <!-- Frontal lobe -->
                                <path d="M50 100 Q80 80 120 90 Q140 95 160 110 Q170 130 160 150 Q140 160 120 155 Q90 150 70 140 Q50 125 50 100" fill="#ff6b6b" opacity="0.7"/>
                                <text x="100" y="125" font-size="12" text-anchor="middle" fill="#333">Frontal</text>
                                
                                <!-- Parietal lobe -->
                                <path d="M160 110 Q200 85 250 95 Q280 105 300 125 Q310 140 300 155 Q280 165 250 160 Q200 155 170 150 Q160 130 160 110" fill="#4ecdc4" opacity="0.7"/>
                                <text x="230" y="130" font-size="12" text-anchor="middle" fill="#333">Parietal</text>
                                
                                <!-- Temporal lobe -->
                                <path d="M70 140 Q90 150 120 155 Q140 160 160 150 Q170 170 160 190 Q140 200 120 195 Q90 190 70 180 Q60 160 70 140" fill="#ffe66d" opacity="0.7"/>
                                <text x="115" y="175" font-size="12" text-anchor="middle" fill="#333">Temporal</text>
                                
                                <!-- Occipital lobe -->
                                <path d="M300 125 Q330 120 350 140 Q360 160 350 180 Q330 190 310 185 Q300 165 300 155 Q300 140 300 125" fill="#a8e6cf" opacity="0.7"/>
                                <text x="325" y="155" font-size="12" text-anchor="middle" fill="#333">Occipital</text>
                                
                                <!-- Labels -->
                                <text x="200" y="20" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Brain Lobes</text>
                            </svg>
                            <div class="diagram-legend">
                                <p><span style="color: #ff6b6b;">■</span> Frontal: Executive functions, motor control</p>
                                <p><span style="color: #4ecdc4;">■</span> Parietal: Sensory processing, spatial awareness</p>
                                <p><span style="color: #ffe66d;">■</span> Temporal: Auditory, language, memory</p>
                                <p><span style="color: #a8e6cf;">■</span> Occipital: Visual processing</p>
                            </div>
                        </div>

                        <div class="diagram-card">
                            <h4>Limbic System</h4>
                            <svg viewBox="0 0 400 300" style="width: 100%; height: 250px; background: #f8f9fa; border-radius: 10px;">
                                <!-- Brain outline -->
                                <ellipse cx="200" cy="150" rx="180" ry="120" fill="none" stroke="#6c757d" stroke-width="2"/>
                                
                                <!-- Hippocampus -->
                                <ellipse cx="160" cy="180" rx="25" ry="15" fill="#ff9999" opacity="0.8"/>
                                <text x="160" y="185" font-size="10" text-anchor="middle" fill="#333">Hippocampus</text>
                                
                                <!-- Amygdala -->
                                <ellipse cx="140" cy="160" rx="15" ry="12" fill="#ffcc99" opacity="0.8"/>
                                <text x="140" y="145" font-size="10" text-anchor="middle" fill="#333">Amygdala</text>
                                
                                <!-- Thalamus -->
                                <ellipse cx="200" cy="130" rx="20" ry="15" fill="#99ccff" opacity="0.8"/>
                                <text x="200" y="135" font-size="10" text-anchor="middle" fill="#333">Thalamus</text>
                                
                                <!-- Hypothalamus -->
                                <ellipse cx="190" cy="155" rx="18" ry="12" fill="#99ff99" opacity="0.8"/>
                                <text x="190" y="160" font-size="10" text-anchor="middle" fill="#333">Hypothalamus</text>
                                
                                <text x="200" y="20" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Limbic System</text>
                            </svg>
                            <div class="diagram-legend">
                                <p><span style="color: #ff9999;">■</span> Hippocampus: Memory formation</p>
                                <p><span style="color: #ffcc99;">■</span> Amygdala: Emotional processing</p>
                                <p><span style="color: #99ccff;">■</span> Thalamus: Sensory relay</p>
                                <p><span style="color: #99ff99;">■</span> Hypothalamus: Basic drives</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Memory Techniques Section -->
                <div id="mnemonics-section" class="hidden">
                    <h3>Memory Techniques & Study Strategies</h3>
                    <div class="techniques-container">
                        <div class="technique-card">
                            <h4>🔤 Acronyms</h4>
                            <div class="technique-content">
                                <p><strong>Brain Lobes (FTPO):</strong></p>
                                <ul>
                                    <li><strong>F</strong>rontal - Functions and personality</li>
                                    <li><strong>T</strong>emporal - Time and memory</li>
                                    <li><strong>P</strong>arietal - Physical sensations</li>
                                    <li><strong>O</strong>ccipital - Optical (vision)</li>
                                </ul>
                                <p><strong>Neurotransmitters (DANG):</strong></p>
                                <ul>
                                    <li><strong>D</strong>opamine - Drive and reward</li>
                                    <li><strong>A</strong>cetylcholine - Action and memory</li>
                                    <li><strong>N</strong>orepinephrine - Noticeable alertness</li>
                                    <li><strong>G</strong>ABA - Generally calming</li>
                                </ul>
                            </div>
                        </div>

                        <div class="technique-card">
                            <h4>🏠 Method of Loci (Memory Palace)</h4>
                            <div class="technique-content">
                                <p><strong>How to use:</strong> Associate brain structures with locations in your house</p>
                                <ul>
                                    <li><strong>Front door</strong> → Frontal lobe (executive decisions)</li>
                                    <li><strong>Kitchen</strong> → Hypothalamus (hunger/thirst)</li>
                                    <li><strong>Bedroom</strong> → Hippocampus (memory storage)</li>
                                    <li><strong>Alarm system</strong> → Amygdala (fear/emotion)</li>
                                    <li><strong>Living room</strong> → Thalamus (central relay)</li>
                                </ul>
                            </div>
                        </div>

                        <div class="technique-card">
                            <h4>🔗 Association Chains</h4>
                            <div class="technique-content">
                                <p><strong>Sleep Stages (1-2-3-4-REM):</strong></p>
                                <p>"<em>One Light sleeper, Two Deeper, Three-Four Deep restoration, REM Rapid dreams</em>"</p>
                                
                                <p><strong>Memory Types:</strong></p>
                                <p>"<em>Working memory Works temporarily, Long-term Lasts permanently, Implicit happens Invisibly</em>"</p>
                            </div>
                        </div>

                        <div class="technique-card">
                            <h4>📊 Study Strategies</h4>
                            <div class="technique-content">
                                <p><strong>Spaced Repetition:</strong> Review material at increasing intervals (1 day, 3 days, 1 week, 2 weeks)</p>
                                <p><strong>Active Recall:</strong> Test yourself without looking at notes</p>
                                <p><strong>Elaborative Interrogation:</strong> Ask "why" and "how" questions</p>
                                <p><strong>Dual Coding:</strong> Combine verbal and visual information</p>
                                <p><strong>Interleaving:</strong> Mix different topics in study sessions</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="container hidden">
        <div class="admin-panel">
            <div class="admin-header">
                <h1>📊 Admin Dashboard</h1>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>

            <div class="admin-stats">
                <div class="stat-card">
                    <div class="stat-value" id="total-users">0</div>
                    <div class="stat-label">Total Students</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-tests">0</div>
                    <div class="stat-label">Tests Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="avg-score">0%</div>
                    <div class="stat-label">Average Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="active-users">0</div>
                    <div class="stat-label">Active Today</div>
                </div>
            </div>

            <div class="users-table">
                <table>
                    <thead>
                        <tr>
                            <th>Student Name</th>
                            <th>Tests Completed</th>
                            <th>Average Score</th>
                            <th>Last Active</th>
                            <th>Total Time</th>
                        </tr>
                    </thead>
                    <tbody id="users-tbody">
                        <!-- User data will be populated here -->
                    </tbody>
                </table>
            </div>

            <div id="user-details" class="user-details hidden">
                <h3 id="selected-user-name">Student Details</h3>
                <div id="user-test-results">
                    <!-- Test results will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // User and session management
        let currentUser = null;
        let isAdmin = false;
        let sessionStartTime = null;
        let sessionTimer = null;
        let userData = {};

        // Load user data from localStorage
        function loadUserData() {
            const saved = localStorage.getItem('studyPlatformUsers');
            if (saved) {
                userData = JSON.parse(saved);
            }
        }

        // Save user data to localStorage
        function saveUserData() {
            localStorage.setItem('studyPlatformUsers', JSON.stringify(userData));
        }

        // Initialize data on page load
        loadUserData();

        // Login Functions
        function loginStudent() {
            const nameInput = document.getElementById('student-name');
            const name = nameInput.value.trim();
            const errorDiv = document.getElementById('login-error');
            
            if (!name) {
                errorDiv.textContent = 'Please enter your name';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            if (name.length < 2) {
                errorDiv.textContent = 'Please enter your full name';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            currentUser = name;
            isAdmin = false;
            sessionStartTime = new Date();
            
            // Initialize user data if doesn't exist
            if (!userData[name]) {
                userData[name] = {
                    name: name,
                    tests: [],
                    totalTime: 0,
                    lastActive: new Date().toISOString(),
                    firstLogin: new Date().toISOString()
                };
            } else {
                userData[name].lastActive = new Date().toISOString();
            }
            
            saveUserData();
            showMainApp();
        }

        function showAdminLogin() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('admin-login').classList.remove('hidden');
        }

        function showStudentLogin() {
            document.getElementById('admin-login').classList.add('hidden');
            document.getElementById('login-screen').classList.remove('hidden');
        }

        function loginAdmin() {
            const passwordInput = document.getElementById('admin-password');
            const password = passwordInput.value;
            const errorDiv = document.getElementById('admin-error');
            
            if (password !== 'tomtom123') {
                errorDiv.textContent = 'Incorrect password';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            isAdmin = true;
            currentUser = 'Admin';
            sessionStartTime = new Date();
            showAdminPanel();
        }

        function showMainApp() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('admin-login').classList.add('hidden');
            document.getElementById('admin-panel').classList.add('hidden');
            document.getElementById('main-app').classList.remove('hidden');
            
            document.getElementById('current-user').textContent = currentUser;
            startSessionTimer();
            generateFlashcards();
        }

        function showAdminPanel() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('admin-login').classList.add('hidden');
            document.getElementById('main-app').classList.add('hidden');
            document.getElementById('admin-panel').classList.remove('hidden');
            
            startSessionTimer();
            loadAdminData();
        }

        function logout() {
            if (currentUser && !isAdmin && sessionStartTime) {
                // Update total time for student
                const sessionTime = (new Date() - sessionStartTime) / 1000; // in seconds
                if (userData[currentUser]) {
                    userData[currentUser].totalTime += sessionTime;
                    saveUserData();
                }
            }
            
            currentUser = null;
            isAdmin = false;
            sessionStartTime = null;
            if (sessionTimer) {
                clearInterval(sessionTimer);
                sessionTimer = null;
            }
            
            // Reset all screens
            document.getElementById('main-app').classList.add('hidden');
            document.getElementById('admin-panel').classList.add('hidden');
            document.getElementById('admin-login').classList.add('hidden');
            document.getElementById('login-screen').classList.remove('hidden');
            
            // Clear form inputs
            document.getElementById('student-name').value = '';
            document.getElementById('admin-password').value = '';
            document.getElementById('login-error').classList.add('hidden');
            document.getElementById('admin-error').classList.add('hidden');
        }

        function startSessionTimer() {
            if (sessionTimer) clearInterval(sessionTimer);
            
            sessionTimer = setInterval(() => {
                if (sessionStartTime) {
                    const elapsed = new Date() - sessionStartTime;
                    const minutes = Math.floor(elapsed / 60000);
                    const seconds = Math.floor((elapsed % 60000) / 1000);
                    document.getElementById('session-time').textContent = 
                        `Session time: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        // Admin Panel Functions
        function loadAdminData() {
            const users = Object.values(userData);
            const totalUsers = users.length;
            const totalTests = users.reduce((sum, user) => sum + user.tests.length, 0);
            const allScores = users.flatMap(user => user.tests.map(test => test.percentage));
            const avgScore = allScores.length > 0 ? Math.round(allScores.reduce((sum, score) => sum + score, 0) / allScores.length) : 0;
            const today = new Date().toDateString();
            const activeToday = users.filter(user => new Date(user.lastActive).toDateString() === today).length;

            document.getElementById('total-users').textContent = totalUsers;
            document.getElementById('total-tests').textContent = totalTests;
            document.getElementById('avg-score').textContent = avgScore + '%';
            document.getElementById('active-users').textContent = activeToday;

            // Populate users table
            const tbody = document.getElementById('users-tbody');
            tbody.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                const avgUserScore = user.tests.length > 0 ? 
                    Math.round(user.tests.reduce((sum, test) => sum + test.percentage, 0) / user.tests.length) : 0;
                const totalTimeFormatted = formatTime(user.totalTime);
                
                row.innerHTML = `
                    <td>${user.name}</td>
                    <td>${user.tests.length}</td>
                    <td>${avgUserScore}%</td>
                    <td>${new Date(user.lastActive).toLocaleDateString()}</td>
                    <td>${totalTimeFormatted}</td>
                `;
                row.onclick = () => showUserDetails(user);
                tbody.appendChild(row);
            });
        }

        function showUserDetails(user) {
            const detailsDiv = document.getElementById('user-details');
            const nameDiv = document.getElementById('selected-user-name');
            const resultsDiv = document.getElementById('user-test-results');
            
            nameDiv.textContent = `${user.name} - Test Results`;
            
            if (user.tests.length === 0) {
                resultsDiv.innerHTML = '<p>No tests completed yet.</p>';
            } else {
                resultsDiv.innerHTML = user.tests.map(test => `
                    <div class="test-result">
                        <h4>${getTestTitle(test.testType)}</h4>
                        <div class="result-details">
                            <div><strong>Score:</strong> ${test.score}/${test.totalQuestions}</div>
                            <div><strong>Percentage:</strong> ${test.percentage}%</div>
                            <div><strong>Grade:</strong> ${test.grade}</div>
                            <div><strong>Date:</strong> ${new Date(test.completedAt).toLocaleDateString()}</div>
                            <div><strong>Time:</strong> ${new Date(test.completedAt).toLocaleTimeString()}</div>
                            <div><strong>Duration:</strong> ${formatTime(test.timeSpent)}</div>
                        </div>
                    </div>
                `).join('');
            }
            
            detailsDiv.classList.remove('hidden');
        }

        function getTestTitle(testType) {
            const titles = {
                'brain-parts': '🧠 Brain Parts & Structures',
                'brain-functions': '⚡ Brain Functions',
                'neurotransmitters': '🔬 Neurotransmitters & Chemicals',
                'consciousness': '💭 States of Consciousness',
                'motivation': '🎯 Motivation & Drives',
                'cognition': '🤔 Cognition & Mental Processes',
                'comprehensive': '🏆 Comprehensive Final Exam'
            };
            return titles[testType] || testType;
        }

        function formatTime(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            const secs = Math.floor(seconds % 60);
            
            if (hours > 0) {
                return `${hours}h ${minutes}m ${secs}s`;
            } else if (minutes > 0) {
                return `${minutes}m ${secs}s`;
            } else {
                return `${secs}s`;
            }
        }

        // Test Data
        const testData = {
            'brain-parts': [
                {
                    question: "Which part of the brain is primarily responsible for visual processing?",
                    options: ["Frontal lobe", "Occipital lobe", "Temporal lobe", "Parietal lobe"],
                    correct: 1,
                    explanation: "The occipital lobe contains the primary visual cortex and processes visual information."
                },
                {
                    question: "What structure is often called the brain's 'relay station' for sensory information?",
                    options: ["Hippocampus", "Amygdala", "Thalamus", "Hypothalamus"],
                    correct: 2,
                    explanation: "The thalamus relays sensory information to the cerebral cortex."
                },
                {
                    question: "Which brain structure is most associated with memory consolidation?",
                    options: ["Cerebellum", "Hippocampus", "Medulla", "Pons"],
                    correct: 1,
                    explanation: "The hippocampus is crucial for forming new memories and spatial learning."
                },
                {
                    question: "The limbic system is primarily involved in:",
                    options: ["Motor control", "Balance", "Emotion and memory", "Language"],
                    correct: 2,
                    explanation: "The limbic system includes structures involved in emotion, memory, and motivation."
                },
                {
                    question: "Which area of the brain controls voluntary muscle movement?",
                    options: ["Motor cortex", "Sensory cortex", "Visual cortex", "Auditory cortex"],
                    correct: 0,
                    explanation: "The motor cortex in the frontal lobe initiates voluntary movements."
                }
            ],
            'brain-functions': [
                {
                    question: "What is neuroplasticity?",
                    options: ["Brain's ability to change structure", "Production of neurons", "Brain wave patterns", "Memory storage"],
                    correct: 0,
                    explanation: "Neuroplasticity is the brain's ability to reorganize and change structure through experience."
                },
                {
                    question: "Lateralization of brain function means:",
                    options: ["Both hemispheres do the same thing", "Hemispheres specialize in different tasks", "The brain is symmetrical", "Only one hemisphere works"],
                    correct: 1,
                    explanation: "Lateralization means the cerebral hemispheres specialize in different cognitive functions."
                },
                {
                    question: "The left hemisphere is typically dominant for:",
                    options: ["Spatial tasks", "Musical recognition", "Language and verbal processing", "Emotional content"],
                    correct: 2,
                    explanation: "The left hemisphere specializes in language, verbal processing, and analytical thinking."
                }
            ],
            'neurotransmitters': [
                {
                    question: "Dopamine is primarily associated with:",
                    options: ["Sleep regulation", "Reward and motivation", "Memory formation", "Muscle control"],
                    correct: 1,
                    explanation: "Dopamine is involved in reward, motivation, and the reinforcing effects of various experiences."
                },
                {
                    question: "Which neurotransmitter is most associated with depression when deficient?",
                    options: ["Dopamine", "GABA", "Serotonin", "Acetylcholine"],
                    correct: 2,
                    explanation: "Serotonin deficiency is commonly linked to depression and mood disorders."
                }
            ],
            'consciousness': [
                {
                    question: "Consciousness is defined as:",
                    options: ["Being awake", "Awareness of internal and external stimuli", "Thinking clearly", "Having memories"],
                    correct: 1,
                    explanation: "Consciousness is our awareness of both internal thoughts/feelings and external environment."
                },
                {
                    question: "REM sleep is important for:",
                    options: ["Physical rest", "Brain restructuring and learning", "Temperature regulation", "Hormone production"],
                    correct: 1,
                    explanation: "REM sleep is associated with brain restructuring, memory consolidation, and learning."
                }
            ],
            'motivation': [
                {
                    question: "The hypothalamus regulates:",
                    options: ["Memory formation", "Appetitive drives like hunger and thirst", "Language processing", "Visual perception"],
                    correct: 1,
                    explanation: "The hypothalamus controls basic drives including hunger, thirst, and sexual desire."
                },
                {
                    question: "Intrinsic motivation comes from:",
                    options: ["External rewards", "Internal satisfaction", "Social pressure", "Fear of punishment"],
                    correct: 1,
                    explanation: "Intrinsic motivation is driven by internal satisfaction and personal fulfillment."
                }
            ],
            'cognition': [
                {
                    question: "Cognition includes:",
                    options: ["Only conscious thinking", "Thinking, memory, and communication", "Just problem-solving", "Only language"],
                    correct: 1,
                    explanation: "Cognition encompasses all mental processes including thinking, memory, attention, and communication."
                },
                {
                    question: "Working memory is primarily associated with the:",
                    options: ["Occipital lobe", "Temporal lobe", "Frontal lobe", "Parietal lobe"],
                    correct: 2,
                    explanation: "Working memory, the ability to hold and manipulate information, is linked to the frontal lobes."
                }
            ],
            'comprehensive': [
                {
                    question: "The hippocampus is primarily involved in:",
                    options: ["Motor control", "Memory consolidation and spatial learning", "Visual processing", "Language production"],
                    correct: 1,
                    explanation: "The hippocampus is crucial for forming new memories and spatial navigation."
                },
                {
                    question: "Dopamine is most associated with:",
                    options: ["Sleep regulation", "Reward and motivation", "Pain relief", "Temperature control"],
                    correct: 1,
                    explanation: "Dopamine is the key neurotransmitter in reward, motivation, and pleasure systems."
                },
                {
                    question: "REM sleep is particularly important for:",
                    options: ["Physical recovery", "Memory consolidation and learning", "Temperature regulation", "Immune function"],
                    correct: 1,
                    explanation: "REM sleep is crucial for memory consolidation, learning, and brain development."
                }
            ]
        };

        // Flashcard Data
        const flashcardData = [
            {
                front: "Hippocampus",
                back: "Memory consolidation and spatial learning",
                memoryTip: "Hippocampus = campus where memories are stored and organized"
            },
            {
                front: "Amygdala",
                back: "Emotional processing, especially fear",
                memoryTip: "Amygdala sounds like 'alarm' - processes emotional responses"
            },
            {
                front: "Dopamine",
                back: "Reward, motivation, and pleasure neurotransmitter",
                memoryTip: "Dopamine drives motivation - think 'dope' for reward feelings"
            },
            {
                front: "Frontal Lobe",
                back: "Executive functions, planning, personality, motor control",
                memoryTip: "Located at the front - handles executive decision-making"
            },
            {
                front: "Occipital Lobe",
                back: "Visual processing and sight",
                memoryTip: "Occipital = optical processing in the back of the brain"
            }
        ];

        // Current test state
        let currentTest = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        let testQuestions = [];
        let testStartTime = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // App initializes with login screen visible
        });

        // Tab switching
        function showTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Update content
            document.querySelectorAll('.content > div').forEach(content => content.classList.add('hidden'));
            document.getElementById(tabName + '-content').classList.remove('hidden');
        }

        // Study category switching
        function showStudyCategory(category) {
            // Update category buttons
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Hide all sections
            document.getElementById('flashcards-section').classList.add('hidden');
            document.getElementById('videos-section').classList.add('hidden');
            document.getElementById('notes-section').classList.add('hidden');
            document.getElementById('diagrams-section').classList.add('hidden');
            document.getElementById('mnemonics-section').classList.add('hidden');

            // Show selected section
            document.getElementById(category + '-section').classList.remove('hidden');
        }

        // Generate flashcards
        function generateFlashcards() {
            const container = document.getElementById('flashcard-container');
            container.innerHTML = '';

            flashcardData.forEach((card, index) => {
                const flashcardDiv = document.createElement('div');
                flashcardDiv.className = 'flashcard';
                flashcardDiv.onclick = () => flipCard(index);
                
                flashcardDiv.innerHTML = `
                    <div class="flashcard-inner">
                        <div class="flashcard-front">
                            <h3>${card.front}</h3>
                            <p>Click to reveal answer</p>
                        </div>
                        <div class="flashcard-back">
                            <h3>${card.back}</h3>
                            <div class="memory-tip">
                                💡 ${card.memoryTip}
                            </div>
                        </div>
                    </div>
                `;
                
                container.appendChild(flashcardDiv);
            });
        }

        // Flip flashcard
        function flipCard(index) {
            const flashcards = document.querySelectorAll('.flashcard');
            flashcards[index].classList.toggle('flipped');
        }

        // Start a test
        function startTest(testType) {
            currentTest = testType;
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            testQuestions = [...testData[testType]];
            testStartTime = new Date();
            
            // Shuffle questions for variety
            testQuestions = testQuestions.sort(() => Math.random() - 0.5);
            
            document.getElementById('test-menu').classList.add('hidden');
            document.getElementById('test-interface').classList.remove('hidden');
            
            showQuestion();
        }

        // Display current question
        function showQuestion() {
            const question = testQuestions[currentQuestionIndex];
            const questionArea = document.getElementById('question-area');
            
            questionArea.innerHTML = `
                <div class="question-container">
                    <div class="question">
                        Question ${currentQuestionIndex + 1} of ${testQuestions.length}
                    </div>
                    <div class="question">
                        ${question.question}
                    </div>
                    <div class="options">
                        ${question.options.map((option, index) => `
                            <div class="option" onclick="selectOption(${index})">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            updateProgress();
            updateScore();
            
            // Reset next button
            const nextBtn = document.getElementById('next-btn');
            nextBtn.textContent = currentQuestionIndex === testQuestions.length - 1 ? 'Finish Test' : 'Next Question';
            nextBtn.style.display = 'none';
        }

        // Select an option
        function selectOption(optionIndex) {
            const options = document.querySelectorAll('.option');
            const question = testQuestions[currentQuestionIndex];
            
            // Remove previous selections
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark selected option
            options[optionIndex].classList.add('selected');
            
            // Show correct answer
            setTimeout(() => {
                options[question.correct].classList.add('correct');
                if (optionIndex !== question.correct) {
                    options[optionIndex].classList.add('incorrect');
                }
                
                // Show explanation
                const explanation = document.createElement('div');
                explanation.style.marginTop = '20px';
                explanation.style.padding = '15px';
                explanation.style.backgroundColor = '#f8f9fa';
                explanation.style.borderRadius = '10px';
                explanation.innerHTML = `<strong>Explanation:</strong> ${question.explanation}`;
                document.querySelector('.question-container').appendChild(explanation);
                
                // Show next button
                document.getElementById('next-btn').style.display = 'block';
                
                // Update score
                if (optionIndex === question.correct) {
                    score++;
                }
                userAnswers.push(optionIndex);
                updateScore();
            }, 500);
        }

        // Next question
        function nextQuestion() {
            if (currentQuestionIndex < testQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishTest();
            }
        }

        // Finish test
        function finishTest() {
            const testEndTime = new Date();
            const timeSpent = (testEndTime - testStartTime) / 1000; // in seconds
            const percentage = Math.round((score / testQuestions.length) * 100);
            let grade, message;
            
            if (percentage >= 90) {
                grade = 'A';
                message = 'Excellent! You have mastered this topic! 🎉';
            } else if (percentage >= 80) {
                grade = 'B';
                message = 'Great job! You have a solid understanding! 👍';
            } else if (percentage >= 70) {
                grade = 'C';
                message = 'Good work! Review the study materials to improve. 📚';
            } else if (percentage >= 60) {
                grade = 'D';
                message = 'You\'re getting there! More study needed. 💪';
            } else {
                grade = 'F';
                message = 'Keep studying! Use the flashcards and videos. 📖';
            }

            // Save test result for student (not admin)
            if (!isAdmin && currentUser && userData[currentUser]) {
                const testResult = {
                    testType: currentTest,
                    score: score,
                    totalQuestions: testQuestions.length,
                    percentage: percentage,
                    grade: grade,
                    timeSpent: timeSpent,
                    completedAt: testEndTime.toISOString(),
                    answers: userAnswers
                };
                
                userData[currentUser].tests.push(testResult);
                saveUserData();
            }
            
            document.getElementById('question-area').innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2>Test Complete!</h2>
                    <div style="font-size: 4rem; margin: 20px 0;">${grade}</div>
                    <div style="font-size: 2rem; margin: 20px 0; color: #667eea;">
                        ${score}/${testQuestions.length} (${percentage}%)
                    </div>
                    <p style="font-size: 1.2rem; margin: 20px 0;">${message}</p>
                    <div style="margin-top: 30px;">
                        <button class="btn btn-primary" onclick="startTest('${currentTest}')" style="margin: 0 10px;">
                            Retake Test
                        </button>
                        <button class="btn btn-secondary" onclick="backToMenu()" style="margin: 0 10px;">
                            Back to Menu
                        </button>
                    </div>
                </div>
            `;
            
            document.getElementById('next-btn').style.display = 'none';
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / testQuestions.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        // Update score display
        function updateScore() {
            document.getElementById('score-display').textContent = `Score: ${score}/${testQuestions.length}`;
        }

        // Back to test menu
        function backToMenu() {
            document.getElementById('test-menu').classList.remove('hidden');
            document.getElementById('test-interface').classList.add('hidden');
            currentTest = null;
        }

        // Handle Enter key for login forms
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                if (!document.getElementById('login-screen').classList.contains('hidden')) {
                    loginStudent();
                } else if (!document.getElementById('admin-login').classList.contains('hidden')) {
                    loginAdmin();
                }
            }
        });
    </script>
</body>
</html>d #ddd;">Dopamine</td>
                                        <td style="padding: 10px; border: 1px soli
